<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
      <!-- Google Fonts: Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Tailwind CDN -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            poppins: ["Poppins", "sans-serif"],
          },
        },
      },
    };
  </script>
</head>
<body>
  <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <script src="https://cdn.tailwindcss.com"></script>
  <title>Minimal Audio + Timer Toolbar</title>
</head>
<body class=" flex align-center justify-center">

  <!-- Compact toolbar -->
  <div class="flex items-center gap-3 bg-white border border-gray-200 rounded-lg px-3 py-2 shadow-sm w-full max-w-xl">
    <!-- Play/Pause button -->
    <button id="playBtn" aria-label="Play" class="flex items-center justify-center w-8 h-8 rounded-md bg-gray-100 hover:bg-gray-200 focus:outline-none">
      <!-- Play SVG (swap to Pause when playing) -->
      <svg id="playIcon" xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-700" viewBox="0 0 24 24" fill="currentColor">
        <path d="M8 5v14l11-7z"/>
      </svg>
      <svg id="pauseIcon" xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-700 hidden" viewBox="0 0 24 24" fill="currentColor">
        <path d="M6 19h4V5H6v14zM14 5v14h4V5h-4z"/>
      </svg>
    </button>

    <!-- Small progress + times -->
    <div class="flex items-center gap-3 flex-1 min-w-0">
      <div class="flex items-center gap-2 min-w-0 w-full">
        <input id="seek" type="range" min="0" value="0" step="0.1" class="w-full h-1 accent-rose-600 bg-gray-200 rounded-lg" />
      </div>
      <div class="flex flex-col items-end text-xs w-20 min-w-[80px]">
        <span id="curTime" class="text-gray-600">00:00</span>
        <span id="totTime" class="text-gray-500">00:00</span>
      </div>
    </div>

    <!-- Timer badge -->
    <div class="flex items-center gap-2">
      <div id="countdown" class="bg-rose-700 text-white text-sm font-medium px-3 py-1 rounded-full tabular-nums">60:00</div>

      <!-- Timer pause/resume -->
      <button id="timerToggle" aria-label="Pause timer" class="w-8 h-8 rounded-md bg-gray-100 hover:bg-gray-200 flex items-center justify-center focus:outline-none" title="Pause / Resume timer">
        <svg id="timerPauseIcon" xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-700" viewBox="0 0 24 24" fill="currentColor">
          <path d="M6 19h4V5H6v14zM14 5v14h4V5h-4z"/>
        </svg>
        <svg id="timerPlayIcon" xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-700 hidden" viewBox="0 0 24 24" fill="currentColor">
          <path d="M8 5v14l11-7z"/>
        </svg>
      </button>

      <!-- Timer restart -->
      <button id="timerRestart" aria-label="Restart timer" class="w-8 h-8 rounded-md bg-gray-100 hover:bg-gray-200 flex items-center justify-center focus:outline-none" title="Restart timer">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 text-gray-700" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 6V3L8 7l4 4V8c2.8 0 5 2.2 5 5 0 2.8-2.2 5-5 5s-5-2.2-5-5H5c0 4.4 3.6 8 8 8s8-3.6 8-8c0-4.4-3.6-8-8-8z"/>
        </svg>
      </button>
    </div>
  </div>

  <!-- Hidden audio element (use your file) -->
  <audio id="audio" preload="metadata">
    <source src="audio1.mp3" type="audio/mpeg" />
    Your browser does not support the audio element.
  </audio>

  <!-- SCRIPT -->
  <script>
    // Elements
    const audio = document.getElementById('audio');
    const playBtn = document.getElementById('playBtn');
    const playIcon = document.getElementById('playIcon');
    const pauseIcon = document.getElementById('pauseIcon');
    const seek = document.getElementById('seek');
    const curTime = document.getElementById('curTime');
    const totTime = document.getElementById('totTime');

    const countdownEl = document.getElementById('countdown');
    const timerToggle = document.getElementById('timerToggle');
    const timerPauseIcon = document.getElementById('timerPauseIcon');
    const timerPlayIcon = document.getElementById('timerPlayIcon');
    const timerRestart = document.getElementById('timerRestart');

    // ---------- Audio controls ----------
    // Toggle play/pause
    playBtn.addEventListener('click', () => {
      if (audio.paused) audio.play();
      else audio.pause();
    });

    audio.addEventListener('play', () => {
      playIcon.classList.add('hidden');
      pauseIcon.classList.remove('hidden');
      playBtn.setAttribute('aria-label','Pause');
    });
    audio.addEventListener('pause', () => {
      playIcon.classList.remove('hidden');
      pauseIcon.classList.add('hidden');
      playBtn.setAttribute('aria-label','Play');
    });

    // Update duration when metadata loaded
    audio.addEventListener('loadedmetadata', () => {
      seek.max = audio.duration;
      totTime.textContent = formatTime(audio.duration);
    });

    // Update progress while playing
    audio.addEventListener('timeupdate', () => {
      seek.value = audio.currentTime;
      curTime.textContent = formatTime(audio.currentTime);
    });

    // Seek by input
    seek.addEventListener('input', () => {
      audio.currentTime = seek.value;
    });

    function formatTime(s) {
      if (!isFinite(s)) return '00:00';
      const m = Math.floor(s / 60).toString().padStart(2,'0');
      const sec = Math.floor(s % 60).toString().padStart(2,'0');
      return `${m}:${sec}`;
    }

    // ---------- Timer (countdown) ----------
    const START_SECONDS = 60 * 60; // 60 minutes
    let timeLeft = START_SECONDS;
    let timerId = null;
    let timerRunning = true;

    function updateTimerDisplay() {
      const m = Math.floor(timeLeft / 60).toString().padStart(2,'0');
      const s = (timeLeft % 60).toString().padStart(2,'0');
      countdownEl.textContent = `${m}:${s}`;
    }

    function startTimer() {
      if (timerId) return;
      timerId = setInterval(() => {
        if (timeLeft > 0) {
          timeLeft--;
          updateTimerDisplay();
        } else {
          clearInterval(timerId);
          timerId = null;
          timerRunning = false;
          timerPauseIcon.classList.add('hidden');
          timerPlayIcon.classList.remove('hidden');
        }
      }, 1000);
      timerRunning = true;
      timerPauseIcon.classList.remove('hidden');
      timerPlayIcon.classList.add('hidden');
      timerToggle.setAttribute('aria-label','Pause timer');
    }

    function pauseTimer() {
      if (timerId) {
        clearInterval(timerId);
        timerId = null;
      }
      timerRunning = false;
      timerPauseIcon.classList.add('hidden');
      timerPlayIcon.classList.remove('hidden');
      timerToggle.setAttribute('aria-label','Resume timer');
    }

    function restartTimer() {
      timeLeft = START_SECONDS;
      updateTimerDisplay();
      if (timerId) {
        clearInterval(timerId);
        timerId = null;
      }
      startTimer();
    }

    // Timer controls
    timerToggle.addEventListener('click', () => {
      if (timerRunning) pauseTimer();
      else startTimer();
    });
    timerRestart.addEventListener('click', restartTimer);

    // Auto-start timer on load
    updateTimerDisplay();
    startTimer();

    // Accessibility: space/enter on buttons
    [playBtn, timerToggle, timerRestart].forEach(btn => {
      btn.addEventListener('keydown', (e) => {
        if (e.key === ' ' || e.key === 'Enter') { e.preventDefault(); btn.click(); }
      });
    });
  </script>
</body>
</html>


</body>
</html>